"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _add=require("ramda/src/add"),_add2=_interopRequireDefault(_add),_gte=require("ramda/src/gte"),_gte2=_interopRequireDefault(_gte),_divide=require("ramda/src/divide"),_divide2=_interopRequireDefault(_divide),_multiply=require("ramda/src/multiply"),_multiply2=_interopRequireDefault(_multiply),_length=require("ramda/src/length"),_length2=_interopRequireDefault(_length),_replace=require("ramda/src/replace"),_replace2=_interopRequireDefault(_replace),_indexOf=require("ramda/src/indexOf"),_indexOf2=_interopRequireDefault(_indexOf),_=require("ramda/src/__"),_2=_interopRequireDefault(_),_lt=require("ramda/src/lt"),_lt2=_interopRequireDefault(_lt),_both=require("ramda/src/both"),_both2=_interopRequireDefault(_both),_always=require("ramda/src/always"),_always2=_interopRequireDefault(_always),_equals=require("ramda/src/equals"),_equals2=_interopRequireDefault(_equals),_type=require("ramda/src/type"),_type2=_interopRequireDefault(_type),_ifElse=require("ramda/src/ifElse"),_ifElse2=_interopRequireDefault(_ifElse),_compose=require("ramda/src/compose"),_compose2=_interopRequireDefault(_compose);exports.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,_compose2.default)(format(e),create)(t)}};var create=function(e){return(0,_ifElse2.default)((0,_compose2.default)((0,_equals2.default)("Null"),_type2.default),(0,_always2.default)(new Date),(0,_always2.default)(new Date((0,_ifElse2.default)((0,_both2.default)((0,_compose2.default)((0,_equals2.default)("String"),_type2.default),(0,_compose2.default)((0,_lt2.default)(_2.default,0),(0,_indexOf2.default)("T"))),(0,_replace2.default)(/[-]/g,"/"),(0,_ifElse2.default)((0,_both2.default)((0,_compose2.default)((0,_equals2.default)("Number"),_type2.default),(0,_compose2.default)((0,_equals2.default)(10),_length2.default,toString)),(0,_multiply2.default)(1e3),(0,_always2.default)(e)))(e))))(e)},format=function(e){return function(t){switch(e){case"x":return t.getTime();case"X":return(0,_divide2.default)(t.getTime(),1e3);case"day":return t.getDay();case"date":return t.getDate();default:return stringify(e)(t)}}},zero=function(e){return(0,_ifElse2.default)((0,_gte2.default)(_2.default,10),(0,_always2.default)(e),(0,_always2.default)("0"+e))(e)},stringify=function(e){return function(t){var a=t.getFullYear(),r=(0,_add2.default)(t.getMonth(),1),u=t.getDate(),l=t.getHours(),_=t.getMinutes(),i=t.getSeconds();return(0,_ifElse2.default)((0,_compose2.default)((0,_equals2.default)("Null"),_type2.default),(0,_always2.default)(t),(0,_compose2.default)((0,_replace2.default)("YYYY",a),(0,_replace2.default)("MM",zero(r)),(0,_replace2.default)("DD",zero(u)),(0,_replace2.default)("HH",zero(l)),(0,_replace2.default)("mm",zero(_)),(0,_replace2.default)("ss",zero(i))))(e)}};